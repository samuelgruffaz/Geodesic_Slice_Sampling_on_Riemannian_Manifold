import numpy as np
import pandas as pd
import os 
import itertools

path_save="von_Mises_Fisher_distribution/results"

seed=22
p=2
n=30
N=100000

w_list=[5]
ani_list=[1,10,100]

to_prod=[ani_list,w_list]
list_param=list(itertools.product(*to_prod))


for param in list_param:
    ani,w=param
    
    name="toys_examples_slice_s{:.0f}_w{:.0f}_ani{:.0f}_N{:.0f}_n_p{:.0f},{:.0f}.csv".format(seed,w,ani,N,n,p)
    dh=pd.read_csv(os.path.join(path_save,name))
    vec_=dh.values
    print("ani,w",param)
    print("ESS min",vec_[:,1].min())
    print("ESS median",np.median(vec_[:,1]))
    print("ESS max",vec_[:,1].max())
    print("\n")



print("mh")
for ani in ani_list: 
      
    name="toys_examples_mh_s{:.0f}_ani{:.0f}_N{:.0f}_n_p{:.0f},{:.0f}.csv".format(seed,ani,N,n,p)
    dg=pd.read_csv(os.path.join(path_save,name))
    vec_=dg.values
    print("ani",ani)
    print("ESS min",vec_[:,1].min())
    print("ESS median",np.median(vec_[:,1]))
    print("ESS max",vec_[:,1].max())
    print("\n")

print("geo_mh")
for ani in ani_list: 
      
    name="toys_examples_geo_mh_s{:.0f}_ani{:.0f}_N{:.0f}_n_p{:.0f},{:.0f}.csv".format(seed,ani,N,n,p)
    dg=pd.read_csv(os.path.join(path_save,name))
    vec_=dg.values
    print("ani",ani)
    print("ESS min",vec_[:,1].min())
    print("ESS median",np.median(vec_[:,1]))
    print("ESS max",vec_[:,1].max())
    print("\n")

