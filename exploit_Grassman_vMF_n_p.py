import numpy as np

import pandas as pd
import os 
import itertools
path_save="Grassman_von_Mises_Fisher_distribution/results"

seed=22

p=2
n=3
N=100000



np_list=[(3,2),(30,20),(100,2)]
w_list=[7]


to_prod=[np_list,w_list]
list_param=list(itertools.product(*to_prod))

print(list_param)
k=0
for param in list_param:
    (n,p),w=param
    
    
    name="n_toys_examples_slice_grassman_s{:.0f}_w{:.0f}_n{:.0f}_p{:.0f}_N{:.0f}.csv".format(seed,w,n,p,N)
    dh=pd.read_csv(os.path.join(path_save,name))
    vec_=dh.values
    print("n,p,w,use_adapt",param)
    
    print("ESS min",vec_[:,1].min())
    print("ESS median",np.median(vec_[:,1]))
    print("ESS max",vec_[:,1].max())


print("hmc")
h_list=[0.01,1,2]
to_prod=[np_list,h_list]
list_param=list(itertools.product(*to_prod))

T=1
for param in list_param:
    (n,p),h=param
  
    name="n_toys_examples_grassman_hmc_s{:.0f}_h{:.2f}_n{:.0f}_p{:.0f}_N{:.0f}.csv".format(seed,h,n,p,N)
    dg=pd.read_csv(os.path.join(path_save,name))
    vec_=dg.values
    print("n,p,h",n,p,h)
    
    print("ESS min",vec_[:,1].min())
    print("ESS median",np.median(vec_[:,1]))
    print("ESS max",vec_[:,1].max())

