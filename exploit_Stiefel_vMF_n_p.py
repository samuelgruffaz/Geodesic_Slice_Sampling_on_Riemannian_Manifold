import numpy as np
import pandas as pd
import os 
import itertools

path_save="Stiefel_von_Mises_Fisher_distribution/results"

seed=22
N=100000

w_list=[1,3,5,7,9,11]

np_list=[(3,2),(30,2),(100,2),(30,5),(30,10),(30,20)]
to_prod=[np_list,w_list]
list_param=list(itertools.product(*to_prod))

for param in list_param:
    (n,p),w=param
    
    name="toys_examples_slice_s{:.0f}_w{:.0f}_n{:.0f}_p{:.0f}_N{:.0f}.csv".format(seed,w,n,p,N)
    dh=pd.read_csv(os.path.join(path_save,name))
    vec_=dh.values
    print("n,p,w",param)
    
    print("ESS min",vec_[:,1].min())
    print("ESS median",np.median(vec_[:,1]))
    print("ESS max",vec_[:,1].max())
    print("\n")

print("mh")
for npp in np_list: 
    (n,p)=npp
  
    name="toys_examples_mh_s{:.0f}_n{:.0f}_p{:.0f}_N{:.0f}.csv".format(seed,n,p,N)
    dg=pd.read_csv(os.path.join(path_save,name))
    vec_=dg.values

    print("n,p",npp)
    
    print("ESS min",vec_[:,1].min())
    print("ESS median",np.median(vec_[:,1]))
    print("ESS max",vec_[:,1].max())
    print("\n")


print("geo_mh")
for npp in np_list: 
    (n,p)=npp
   
    name="toys_examples_geo_mh_s{:.0f}_n{:.0f}_p{:.0f}_N{:.0f}.csv".format(seed,n,p,N)
    dg=pd.read_csv(os.path.join(path_save,name))
    vec_=dg.values
    print("n,p",npp)
    
    print("ESS min",vec_[:,1].min())
    print("ESS median",np.median(vec_[:,1]))
    print("ESS max",vec_[:,1].max())
    print("\n")

